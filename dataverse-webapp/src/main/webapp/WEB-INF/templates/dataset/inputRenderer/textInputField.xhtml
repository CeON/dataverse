<ui:composition
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:jsf="http://xmlns.jcp.org/jsf">

    
    <p:outputLabel styleClass="control-label" for="inputText" rendered="#{!hiddenLabel}" escape="false" value="#{datasetField.datasetFieldType.localeTitle}">
        <h:outputText styleClass="glyphicon glyphicon-asterisk text-danger" value="" rendered="#{datasetField.datasetFieldType.requiredInDataverse}" />
        <span class="glyphicon glyphicon-question-sign tooltip-icon"
              jsf:rendered="#{not empty datasetField.datasetFieldType.localeDescription}"
              tabindex="0" role="button"
              data-toggle="tooltip" data-placement="auto right"
              data-original-title="#{datasetField.datasetFieldType.localeDescription}"></span>
    </p:outputLabel>

    <!-- input text start -->
    <span id="pre-input-#{datasetField.datasetFieldType.name}" class="pre-input-tag"/>

    <p:inputText value="#{datasetField.value}" id="inputText"
                 styleClass="form-control"  />
    

    <p:watermark for="inputText" value="#{datasetField.datasetFieldType.localeWatermark}"></p:watermark>

    <div class="ui-message ui-message-error ui-widget ui-corner-all" aria-live="polite" jsf:rendered="#{!empty datasetField.validationMessage}">
        <span class="ui-message-error-detail">#{datasetField.validationMessage}</span>
    </div>
    

    <!-- This button is currently only for adding replication data for the title field -->
    <ui:fragment rendered="#{inputRenderer.hasActionButton() and inputRenderer.showActionButtonForOperation(operation)}">
        <p:commandButton styleClass="btn btn-default" style="margin-top: 5px;"
                value="#{inputRenderer.getActionButtonText()}"
                widgetVar="#{datasetField.datasetFieldType.name}"
                actionListener="#{inputRenderer.executeButtonAction(datasetField, allBlockfields)}"
                update="inputText"
                oncomplete="PF('#{datasetField.datasetFieldType.name}').disable();">
        </p:commandButton>
    </ui:fragment>
    
</ui:composition>